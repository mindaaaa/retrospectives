# 5월 2주차
`기간` `2025-05-04` ~ `2025-05-11`

## 이번 주에 한 일

| 구분             | 내용                                                                            |
| -------------- | ----------------------------------------------------------------------------- |
| 주요 작업          | hanzawakanji-api 업데이트<br>  -클린 아키텍처 적용<br>  -  quizSet API 추가                 |
| 다음 프로젝트        | - `CIL`기반 `mini-git` 실습 스캐폴딩<br>- `Next.js` 기반 마크다운 블로그 프로젝트 `mindapresso` 설계 |
| 루틴 정비<br>및 문서화 | - 프로젝트 `README` 작성계획 <br>- 문서 정리 및 Obsidian 회고 루틴 고도화                         |

## 주요 작업
### 한자와칸지 프로젝트 구조 개편

- 기존 레이어드 아키텍처 <br>  → **클린 아키텍처**로 전체 리팩토링  
- 백엔드가 직접 `choicePool`, 문제 보기를 지원할 수 있도록 **역할 분리 및 설계 개선**
- 새로운 기능 추가
  - `quizSet` 생성 기능
  - `quizSet` 상세 조회 기능
#### 📁 최종 디렉토리 구조
```
application/  
├── service/  
├── model/  
├── persistence/  
domain/  
├── Kanji.kt, Mode.kt, QuizSet.kt  
infrastructure/  
├── database/  
├── web/
```

## 다음 프로젝트 기획
### 기술 블로그 `mindapresso`
#### 🔧 기술 스택

| 항목    | 내용                                              |
| ----- | ----------------------------------------------- |
| 기술 스택 | Next.js, TypeScript, gray-matter, Vercel        |
| 목표 기능 | 마크다운 글 상세 페이지 및 SEO 최적화<br>→ 추후 댓글/좋아요 기능 추가 예정 |
- 본래 TypeScript와 Jest를 도입할 예정이었으나<br>CSR 환경(React)에서 SEO, OG 태그 대응이 번거로워<br>SSR인 Next 도입을 결정하게 되었음

#### 8주간의 계획

| 주차   | 목표                         | 기술 키워드                                  |
|--------|------------------------------|----------------------------------------------|
| 1주차  | 프로젝트 구조 설계, 글 목록 구현     | `getStaticProps`, `gray-matter`             |
| 2주차  | 글 상세 페이지               | `getStaticPaths`, 마크다운 렌더링             |
| 3주차  | 감성 스타일링 챕터 ①         | 폰트/간격/반응형 조정                         |
| 4주차  | 태그/카테고리 필터링 기능     | 동적 라우팅 & 조건부 렌더링                     |
| 5주차  | 검색 + 다크모드             | 전역 상태 관리 + 테마 기능                     |
| 6주차  | SEO 최적화 + OG 태그 설정    | `next/head`, 메타데이터 설정                  |
| 7주차  | 감성 스타일링 챕터 ②         | 모바일 최적화 & 디자인 피니싱                   |
| 8주차  | 최종 배포 + 댓글/좋아요 기능 | Vercel, Firebase or Utterances 연동         |

### CS 기반 프로젝트 `mini-Git`

> Git 구조를 직접 구현하면서 내부 동작 원리 학습 예정

#### 학습 참고서
- 《Pro Git》
- 《Git Internals》

#### 📌 구현 기능 목록

| 상태 | 기능            | 설명 |
|------|-----------------|------|
| ✅   | `init`          | `.mygit/` 디렉토리 생성 및 초기 구조 구성 |
| ✅   | `add`           | blob 저장 → index 기록 |
| ✅   | `commit`        | staging → snapshot 저장 |
| ✅   | `log`           | 해시/부모 커밋 기반 로그 조회 |
| ✅   | `HEAD`          | 현재 브랜치 포인터 관리 |
| ✅   | `.mygit/objects` | Git 저장소 구조 재현 (blob/tree/commit) |
| ⭕   | `branch`        | refs/heads에 브랜치 생성 |
| ⭕   | `checkout`      | HEAD 이동, 워킹 디렉토리 반영 |
| ❌   | `merge`, `stash`| conflict 처리 등 고급 기능은 보류 |
### 루틴 정비 및 문서화

- Obsidian 회고/계획/기록 루틴 정비  
- `README.md`, 프로젝트 설명, 디렉토리 목적 명시 등 정규화된 문서 정리  

## 가장 어려웠던 점
### 디렉토리 구조 설계

이번 주 가장 막혔던 부분은 새 프로젝트의 **디렉토리 구조를 어떻게 설계할지**에 대한 고민이었다.  

초기 구조를 어떻게 잡느냐에 따라 이후 유지보수와 확장 가능성이 달라지기 때문에 오히려 더 어려웠다.
#### `mindapresso` 
- Next.js 블로그 프로젝트

#### 🙅 막혔던 부분
- React와는 달리 Next.js는 라우팅, 정적 데이터 패칭 등 기능이 **폴더 기반으로 암묵적으로 동작**한다는 점이 어색했다.
- 예를 들어 `pages`, `app`, `public`, `styles` 같은 디렉토리는 이름이 강제되거나 관례화돼 있어, 자유롭게 설계하기 어려웠다.
- `gray-matter`나 `getStaticProps`를 어디에서 사용할지 결정하는 것도 고민이었다.

> `gray-matter`이란?
> 마크다운 파일에서 상단 메타데이터(Frontmatter)를 파싱하는 라이브러리

> `getStaticProps`란?
>  Next.js에서 **정적 페이지를 만들기 위해** 빌드 타임에 데이터를 미리 불러오는 함수

#### 배운 점
- Next.js는 **파일 기반 라우팅**, **정적 빌드 중심의 구조**로 인해 폴더 설계에 **자유도보다는 기능별 명확한 구분**이 우선된다.
- 그래서 자율 설계보다 **공식 설계 방식에 맞춰 확장하는 감각**이 필요하다는 걸 느꼈다.

다음과 같은 기본 구조로 시작하게 되었다.

```bash
src/
├── pages/           # 라우팅 페이지 (getStaticProps 포함)
├── components/      # 공통 UI 컴포넌트
├── lib/             # 글 목록, 마크다운 파싱 등 유틸
├── styles/          # CSS 및 Tailwind
├── types/           # 타입 선언
├── constants/       # 고정 값
```

#### `mini-git` 
- Git 내부 구조 모방 CLI 프로젝트

#### 🙅 막혔던 부분
- Git처럼 CIL 기반의 로직을 구현할 땐 UI 중심이 아닌 **도메인 중심 설계**가 필요했는데 CIL 프로젝트에서도 `domain` 이름을 가져가는 게 맞는지 혼란스러웠다.
- 오픈소스 프로젝트들을 참고해도 기준이 뚜렷하지 않았고, 각자 정의가 달랐다.

#### 배운 점

| 디렉토리명     | 의미                                                  | 사용 시기                    |
| --------- | --------------------------------------------------- | ------------------------ |
| `core/`   | 핵심 로직 <br>  - commit 생성<br>  - object encode/decode | 핵심 알고리즘과 로직을 묶을 때        |
| `lib/`    | 공통 유틸 함수<br>  - 파일 읽기/쓰기<br>  - 해시화                 | - 기능 보조 도구<br>- 범용 유틸 모듈 |
| `domain/` | Git의 개념 단위<br> - Blob, Commit, Tree 클래스)            | Git 모델 자체를 추상화할 때        |
참고로 `lib`와 `utils`의 차이는 다음 표로 정리할 수 있다.

| 구분   | lib | utils |
|--------|------|--------|
| 의미   | 독립적인 기능 묶음 (작은 라이브러리처럼) | 자잘한 보조 함수 모음 |
| 예시   | 마크다운 파서, Git 인코더 | 날짜 포맷, 문자열 정렬 |
| 선택 기준 | 책임이 명확하고 핵심 기능이면 lib / 가볍고 범용적이면 utils |

> 기능별 책임을 명확히 나누기 위해 다음과 같이 구조를 정리했다.

```bash
src/
├── core/            # Git 핵심 기능 (add, commit, log 등)
├── utils/           # 보조 유틸
├── domain/          # Git 객체 모델 (Blob, Tree 등)
├── cli/             # 실제 명령어 실행 진입점
```

## 이번 주를 돌아보며

### 자아성찰
- `기분`: 😐
- `컨디션`: `낮음`
- `한줄 피드백`: 무작정 시작하지 말고 조급하지 말고 2일정도는 고민하고 시작하자

> 전체적으로 연휴동안 놓친 루틴을 다시 잡느라 피로가 안 풀린 느낌이다😮‍💨

### 한 주 요약

> 이번 주는 **단순 구현보다 ‘방향 설정’과 ‘설계 중심 사고’를 정리한 한 주**였다.  
> 다음 프로젝트로의 도약을 준비하면서 구조 개편, 기능 설계, 실습 기반 학습까지 **개발자 루틴을 더 단단하게 만들기 위한 정비 시간**이었다.

### 다음 주 목표
- [ ] `mindapresso` 글 목록 조회
- [ ] `mini-git` `init` `add` `commit` 내부 동작 이해 및 구현
- [ ] 프로그래머스 매일 문제 풀기
- [ ] 모던 딥다이브 완독🎉